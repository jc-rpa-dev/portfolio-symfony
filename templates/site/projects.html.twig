{% extends 'base.html.twig' %}

{% block title %}Projets - Portfolio{% endblock %}

{% block body %}
<section class="mb-4">
    <h1 class="mb-3">Projets</h1>
    <p class="text-muted">
        Quelques projets représentatifs en RPA, développement web et IA (RAG).
    </p>
</section>

<section class="mb-5">
    <div class="row g-4">
        {% for project in projects %}
            {% set badge = project.category.name %}
            {% set badgeClass =
                project.category.slug == 'rpa' ? 'bg-primary' :
                (project.category.slug == 'symfony-backend' ? 'bg-secondary' :
                (project.category.slug == 'ia-rag' ? 'bg-warning text-dark' : 'bg-secondary'))
            %}

            {{ include('components/_project_card.html.twig', {
                badge: badge,
                badgeClass: badgeClass,
                title: project.title,
                context: project.context,
                solution: project.solution,
                impact: project.impact,
                highlight: project.highlight
            }) }}
        {% else %}
            <p class="text-muted">Aucun projet n’est encore enregistré.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}
